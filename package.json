{
  "name": "stina",
  "version": "0.1.0",
  "private": true,
  "type": "module",
  "workspaces": [
    "apps/*",
    "packages/*"
  ],
  "scripts": {
    "generate:icons": "bun scripts/generate-icons.ts",
    "generate:locales": "bun run --cwd packages/i18n build:locales",
    "lint": "eslint . --ext .ts,.vue --max-warnings 0",
    "lint:fix": "eslint . --ext .ts,.vue --fix",
    "format": "prettier --write .",
    "i18n:check": "bun scripts/check-i18n.ts",
    "rebuild:native": "CXXFLAGS=\"--std=c++20\" bunx electron-rebuild -f -w better-sqlite3",
    "predev:desktop": "bun run generate:icons && bun run generate:locales",
    "dev:desktop": "bunx vite --host 127.0.0.1 --config apps/desktop/vite.web.config.ts",
    "predev:electron": "bun run generate:icons && bun run generate:locales",
    "dev:electron": "wait-on http://localhost:5173 && VITE_DEV_SERVER_URL=http://localhost:5173 bunx electron apps/desktop/.electron/main.js",
    "predev:all": "bun run rebuild:native",
    "dev:all": "bun run electron:build && concurrently -k -n WEB,ELEC -c green,cyan \"bun run dev:desktop\" \"bun run dev:electron\"",
    "preelectron:build": "bun run generate:icons && bun run generate:locales",
    "electron:build": "bunx esbuild apps/desktop/electron/preload.ts --bundle --outfile=apps/desktop/.electron/preload.cjs --platform=node --format=cjs --external:electron --alias:@stina/core=./packages/core/src/index.ts --alias:@stina/chat=./packages/chat --alias:@stina/store=./packages/store/src/index_new.ts --alias:@stina/settings=./packages/settings/src --alias:@stina/mcp=./packages/mcp/src/index.ts --alias:@stina/work=./packages/work/index.ts --alias:@stina/memories=./packages/memories/index.ts --alias:@stina/state=./packages/state/src/index.ts --alias:@stina/calendar=./packages/calendar/index.ts && bun build apps/desktop/electron/main.ts --outdir apps/desktop/.electron --target node --external electron --external better-sqlite3 --external ws --external keytar --alias:@stina/core=./packages/core/src/index.ts --alias:@stina/chat=./packages/chat --alias:@stina/store=./packages/store/src/index_new.ts --alias:@stina/settings=./packages/settings/src --alias:@stina/mcp=./packages/mcp/src/index.ts --alias:@stina/work=./packages/work/index.ts --alias:@stina/memories=./packages/memories/index.ts --alias:@stina/state=./packages/state/src/index.ts --alias:@stina/calendar=./packages/calendar/index.ts",
    "electron:watch": "concurrently -k -n PRELOAD,MAIN -c yellow,magenta \"bunx esbuild apps/desktop/electron/preload.ts --bundle --outfile=apps/desktop/.electron/preload.cjs --platform=node --format=cjs --external:electron --alias:@stina/core=./packages/core/src/index.ts --alias:@stina/chat=./packages/chat --alias:@stina/store=./packages/store/src/index_new.ts --alias:@stina/settings=./packages/settings/src --alias:@stina/mcp=./packages/mcp/src/index.ts --alias:@stina/work=./packages/work/index.ts --alias:@stina/memories=./packages/memories/index.ts --alias:@stina/state=./packages/state/src/index.ts --alias:@stina/calendar=./packages/calendar/index.ts --watch\" \"bun build apps/desktop/electron/main.ts --outdir apps/desktop/.electron --target node --external electron --external better-sqlite3 --external ws --external keytar --alias:@stina/core=./packages/core/src/index.ts --alias:@stina/chat=./packages/chat --alias:@stina/store=./packages/store/src/index_new.ts --alias:@stina/settings=./packages/settings/src --alias:@stina/mcp=./packages/mcp/src/index.ts --alias:@stina/work=./packages/work/index.ts --alias:@stina/memories=./packages/memories/index.ts --alias:@stina/state=./packages/state/src/index.ts --alias:@stina/calendar=./packages/calendar/index.ts --watch\"",
    "db:reset": "bun scripts/reset-db.ts",
    "rebuild:better-sqlite3": "node scripts/rebuild-better-sqlite3.mjs",
    "test:smoke": "node scripts/rebuild-better-sqlite3.mjs && vitest run && bun run rebuild:native",
    "typecheck": "tsc --noEmit",
    "dev:cli": "bun apps/cli/index.ts",
    "dev:tui": "STINA_LOG_REQUESTS=0 node scripts/rebuild-better-sqlite3.mjs && bun run generate:locales && STINA_LOG_REQUESTS=0 node --import tsx apps/tui/index.ts",
    "prebuild:desktop": "bun run generate:icons && bun run generate:locales",
    "build:desktop": "bunx vite build --config apps/desktop/vite.config.ts",
    "pack:desktop": "bun run prebuild:desktop && bun run build:desktop && bunx electron-builder -c electron-builder.config.cjs",
    "postinstall": "node -e \"if(!process.env.CI){require('child_process').execSync('bun run rebuild:native', {stdio: 'inherit'})}\""
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@iconify-json/hugeicons": "^1.2.17",
    "@trivago/prettier-plugin-sort-imports": "^6.0.0",
    "@types/blessed": "^0.1.20",
    "@types/dompurify": "^3.0.5",
    "@types/node": "^22.8.5",
    "node-gyp": "^10.0.1",
    "electron-builder": "^24.13.3",
    "png2icons": "^2.0.0",
    "@typescript-eslint/eslint-plugin": "^8.46.3",
    "@typescript-eslint/parser": "^8.46.3",
    "@vitejs/plugin-vue": "^5.1.4",
    "concurrently": "^8.2.2",
    "electron": "^32.1.0",
    "electron-rebuild": "^3.2.9",
    "esbuild": "^0.27.0",
    "eslint": "^9.39.1",
    "eslint-config-prettier": "^10.1.8",
    "eslint-import-resolver-typescript": "^4.4.4",
    "eslint-plugin-import": "^2.32.0",
    "eslint-plugin-unused-imports": "^4.3.0",
    "eslint-plugin-vue": "^10.5.1",
    "vue-eslint-parser": "^10.1.3",
    "eventsource": "^4.1.0",
    "globals": "^16.5.0",
    "prettier": "^3.6.2",
    "sharp": "^0.34.5",
    "typescript": "^5.6.3",
    "unplugin-icons": "^22.5.0",
    "unplugin-vue-components": "^30.0.0",
    "vite": "^5.4.10",
    "vite-plugin-electron": "^0.28.7",
    "vue-tsc": "^2.1.6",
    "wait-on": "^7.2.0",
    "vitest": "^2.1.4",
    "tsx": "^4.19.1"
  },
  "dependencies": {
    "@google/genai": "^1.30.0",
    "@stina/chat": "workspace:*",
    "@stina/core": "workspace:*",
    "@stina/crypto": "workspace:*",
    "@stina/i18n": "workspace:*",
    "@stina/mcp": "workspace:*",
    "@stina/memories": "workspace:*",
    "@stina/settings": "workspace:*",
    "@stina/state": "workspace:*",
    "@stina/store": "workspace:*",
    "@stina/tandoor": "workspace:*",
    "@stina/work": "workspace:*",
    "@iconify/vue": "^4.2.0",
    "dayjs": "^1.11.11",
    "@vueuse/core": "^14.1.0",
    "better-sqlite3": "^12.4.1",
    "blessed": "^0.1.81",
    "commander": "^12.1.0",
    "dompurify": "^3.1.6",
    "keytar": "^7.9.0",
    "marked": "^15.0.11",
    "node-ical": "^0.17.0",
    "vue": "^3.5.13",
    "wcwidth": "^1.0.1",
    "ws": "^8.18.3"
  }
}
